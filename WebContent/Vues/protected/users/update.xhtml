<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"       
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://java.sun.com/jsf/facelets">
    <h:head>
        <title>Modification d'utilisateur</title>
        <h:outputStylesheet library="css" name="admin/admins.css" />
        <h:outputStylesheet library="css" name="style.css" />

    </h:head>
    <f:view>
    <h:body>
                 <div class="sub_body_login detais_background"></div>
         <div class="contain"> 
            <ui:include src="../../template/admin_menu_top.xhtml"/>
             <div class="right">
        <h:form class="form_update" id="form_update_user">
            <br/><table class="tlogin tajouter useradda" id="update_user_table">
                <tbody>
                   <tr class="ajoutertitre">
                    <td>
                    <p:outputLabel value="Modification de l'utilisateur #{adminUsers.utilisateur.nom} :"/>
                    </td>
                       <td/>
                   </tr>
                    <tr>
                        <td>
                            <p:outputLabel styleClass="label_admin" value="Matricule :"/><br/>
                            <p:inputText readonly="true" styleClass="input_login" disabled="true" value="#{adminUsers.utilisateur.matricule}"/>  
                        </td>
                        <td>
                            <p:outputLabel styleClass="label_admin" value="Cin :"/><br/>
                            <p:inputText styleClass="input_login" value="#{adminUsers.utilisateur.cin}"/>  
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <p:outputLabel styleClass="label_admin" value="Nom :"/><br/>
                            <p:inputText styleClass="input_login" value="#{adminUsers.utilisateur.nom}"/>  
                        </td>
                        <td>
                            <p:outputLabel styleClass="label_admin" value="Prenom :"/><br/>
                            <p:inputText styleClass="input_login" value="#{adminUsers.utilisateur.prenom}" />   
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <p:outputLabel styleClass="label_admin" value="Date de naissance :"/><br/>
                            <p:calendar  styleClass="input_date" value="#{adminUsers.utilisateur.dateNaissance}" id="dateNaissance"/>  
                        </td>
                        <td>
                            <p:outputLabel styleClass="label_admin" value="Sexe :"/><br/>
                            <p:selectOneMenu styleClass="choix" value="#{adminUsers.utilisateur.idSexe}" >
                                <f:selectItem id="m" itemValue="#{adminUsers.homme.idSexe}" itemLabel="#{adminUsers.homme.value}"/>
                                <f:selectItem id="f" itemValue="#{adminUsers.femme.idSexe}" itemLabel="#{adminUsers.femme.value}"/>
                            </p:selectOneMenu> 
                        </td> 
                    </tr> 
                    <tr>
                        <td>
                            <p:outputLabel styleClass="label_admin" value="Email :"/><br/>
                            <p:inputText styleClass="input_login" value="#{adminUsers.utilisateur.email}"/>  
                        </td>
                        <td>
                            <p:outputLabel styleClass="label_admin" value="Tele:"/><br/>
                            <p:inputText styleClass="input_login" value="#{adminUsers.utilisateur.tele}"/>    
                        </td>
                    </tr> 
                    <tr>
                        <td>
                            <p:outputLabel styleClass="label_admin" value="SF :"/><br/>
                            <p:selectOneMenu styleClass="choix" value="#{adminUsers.utilisateur.idSituationFamiliale}" >
                                <f:selectItem id="c" itemValue="#{adminUsers.celibataire.idSituation}" itemLabel="#{adminUsers.celibataire.value}"/>
                                <f:selectItem id="mariee" itemValue="#{adminUsers.mariee.idSituation}" itemLabel="#{adminUsers.mariee.value}"/>
                            </p:selectOneMenu>  
                        </td>
                        <td>
                            <p:outputLabel styleClass="label_admin" value="Profil :"/><br/>
                            <p:selectOneMenu  styleClass="choix" id="list_profil"  value="#{adminUsers.utilisateur.profil}" converter="#{profilConverter}">
                                <f:selectItems value="#{adminUsers.allProfils}" var="pp" itemLabel="#{pp.libele}" itemValue="#{pp}" />
                            </p:selectOneMenu> 
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <p:outputLabel styleClass="label_admin" value="Password : "/><br/>
                            <p:inputText styleClass="input_login" required="true"   value="#{adminUsers.utilisateur.password}" maxlength="20"/>    
                        </td>
                    </tr>
                    <tr>
                        <td>
                                        <!-- Button de validation -->
                            <p:growl id="reponse" life="2000"/>
                            <p:commandButton id="btnUpdateUser" actionListener="#{adminUsers.updateUser()}" ajax="true" update="reponse" value="Enregistrer" />
                            <!-- Button de validation -->
                        </td>
                        <td/>
                    </tr>
                </tbody>
            </table>
        </h:form>
                              </div>
              <div class="left">
                <h:form id="form2" >
                    <ui:include src="../../template/admin_menu_left.xhtml"/>
                </h:form>
        </div> 
         </div>
    </h:body>
    </f:view>
</html>

